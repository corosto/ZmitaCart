<div class="header">
  <div class="content">
    <div
      class="menu"
      (mouseleave)="overlayService.setState(false)"
      (mouseenter)="overlayService.setState(true)"
    >
      <mat-icon
        class="svg svg-menu"
        svgIcon="menu"
      >
      </mat-icon>

      <pp-categories-menu
        *ngIf="isShowCategories$ | async"
        [categories]="superiorCategories$ | async"
      ></pp-categories-menu>
    </div>

    <div
      class="image cursor-pointer"
      [routerLink]="['/']"
    >
      <mat-icon
        class="img"
        svgIcon="ZmitaCart"
      >
      </mat-icon>
    </div>

    <form
      class="form"
      [formGroup]="form"
    >
      <div class="search-form">
        <input
          placeholder="czego szukasz?"
          class="input"
          formControlName="input"
          (keydown.enter)="find(); $event.preventDefault();"
        >
        <mat-icon
          *ngIf="!isBig"
          class="svg fix"
          svgIcon="find"
          (click)="find()"
        >
        </mat-icon>
      </div>

      <div class="categories-form">
        <select
          class="select cursor-text"
          formControlName="category"
        >
          <option value="-1">
            --brak--
          </option>
          <ng-container *ngFor="let category of superiorCategories$ | async">
            <option [value]="category.id">
              {{ category.name }}
            </option>
          </ng-container>
        </select>
        <mat-icon
          class="svg fix"
          svgIcon="find"
          (click)="find()"
        >
        </mat-icon>
      </div>
    </form>

    <div class="actions">
      <mat-icon
        *ngIf="!isBig"
        class="svg"
        svgIcon="add"
        (click)="goToAddOffer()"
      >
      </mat-icon>

      <div class="fixer">
        <mat-icon
          class="svg"
          svgIcon="heart"
          (click)="navigateTo('observed')"
        >
        </mat-icon>
        <mat-icon
          class="badge"
          [matBadge]="likedCount$ | async"
          matBadgeSize="medium"
        >
        </mat-icon>
      </div>

      <div class="fixer">
        <mat-icon
          class="svg"
          svgIcon="chat"
          (click)="navigateTo('chats')"
        >
        </mat-icon>
        <mat-icon
          class="badge"
          [matBadge]="unreadChatsCount$ | async"
          matBadgeSize="medium"
        >
        </mat-icon>
      </div>

      <pp-login-menu></pp-login-menu>
    </div>

    <a
      *ngIf="isBig"
      class="button button-allegro"
      (click)="goToAddOffer()"
    >
      Wystaw
    </a>
  </div>
</div>